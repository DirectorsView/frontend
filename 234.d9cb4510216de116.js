"use strict";(self.webpackChunkdirectorsview=self.webpackChunkdirectorsview||[]).push([[234],{5234:(w,g,i)=>{i.r(g),i.d(g,{SignupModule:()=>M});var u=i(9808),r=i(3075),e=i(5e3),Z=i(7556),l=i(4259),d=i(4107),v=i(508),p=i(7322),h=i(7531),_=i(7423);function C(t,a){if(1&t&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function y(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Firstname must not be empty"),e.qZA())}function N(t,a){if(1&t&&(e.TgZ(0,"mat-form-field"),e.TgZ(1,"mat-label"),e._uU(2,"Firstname"),e.qZA(),e._UZ(3,"input",11),e.YNc(4,y,2,0,"mat-error",4),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(4),e.Q6J("ngIf",null==(o=n.formGroup.get("firstName"))?null:o.hasError("required"))}}function T(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Lastname must not be empty"),e.qZA())}function O(t,a){if(1&t&&(e.TgZ(0,"mat-form-field"),e.TgZ(1,"mat-label"),e._uU(2,"Lastname"),e.qZA(),e._UZ(3,"input",12),e.YNc(4,T,2,0,"mat-error",4),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(4),e.Q6J("ngIf",null==(o=n.formGroup.get("lastName"))?null:o.hasError("required"))}}function x(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Company name must not be empty"),e.qZA())}function A(t,a){if(1&t&&(e.TgZ(0,"mat-form-field"),e.TgZ(1,"mat-label"),e._uU(2,"Company Name"),e.qZA(),e._UZ(3,"input",13),e.YNc(4,x,2,0,"mat-error",4),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(4),e.Q6J("ngIf",null==(o=n.formGroup.get("companyName"))?null:o.hasError("required"))}}function S(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"E-Mail must not be empty"),e.qZA())}function b(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Password must not be empty"),e.qZA())}function U(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.responseMessage)}}const I=[{path:"",component:(()=>{class t{constructor(n,o,m){this.auth=n,this.router=o,this.route=m,this.formGroup=t.createFormGroup(),this.responseMessage=null,this.selectOptions=["Personal","Company"],this.selectedOption=this.selectOptions[0],this.onSelectionMessage()}ngOnInit(){this.auth.isLoggedIn&&this.redirect(),this.auth.isLoggedInAsObservable.subscribe(n=>{n&&this.redirect()})}submit(){let n;if(this.formGroup.valid){if("Personal"===this.selectedOption)n=this.auth.signUpAsPerson(this.formGroup.value.email,this.formGroup.value.password,this.formGroup.value.firstName,this.formGroup.value.lastName);else{if("Company"!==this.selectedOption)throw new Error("Invalid option");n=this.auth.signUpAsCompany(this.formGroup.value.email,this.formGroup.value.password,this.formGroup.value.companyName)}n.then(()=>{this.router.navigateByUrl("/")}).catch(o=>{this.responseMessage=o.message})}}static createFormGroup(){return new r.cw({firstName:new r.NI("",[r.kI.required]),lastName:new r.NI("",[r.kI.required]),companyName:new r.NI("",[r.kI.required]),email:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])})}onSelectionMessage(){var n,o,m,s,f,c;this.formGroup.markAsUntouched(),"Personal"===this.selectedOption?(null===(n=this.formGroup.get("companyName"))||void 0===n||n.disable(),null===(o=this.formGroup.get("firstName"))||void 0===o||o.enable(),null===(m=this.formGroup.get("lastName"))||void 0===m||m.enable()):"Company"===this.selectedOption&&(null===(s=this.formGroup.get("firstName"))||void 0===s||s.disable(),null===(f=this.formGroup.get("lastName"))||void 0===f||f.disable(),null===(c=this.formGroup.get("companyName"))||void 0===c||c.enable())}redirect(){this.route.queryParams.subscribe(n=>{this.router.navigateByUrl(n.redirectUrl,{replaceUrl:!0}).catch(o=>{console.error(o)})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Z.e),e.Y36(l.F0),e.Y36(l.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:28,vars:10,consts:[["src","/assets/images/logo.svg","alt","Logo"],[3,"formGroup","ngSubmit"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","placeholder","Email","type","email","name","email","formControlName","email"],["matInput","","placeholder","Password","type","password","name","password","formControlName","password"],[1,"button-wrapper"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["routerLink","/signin",1,"link"],[3,"value"],["matInput","","placeholder","Firstname","type","text","name","firstName","formControlName","firstName"],["matInput","","placeholder","Lastname","type","text","name","lastName","formControlName","lastName"],["matInput","","placeholder","Company Name","type","text","name","companyName","formControlName","companyName"]],template:function(n,o){if(1&n&&(e.TgZ(0,"header"),e._UZ(1,"img",0),e.TgZ(2,"h1"),e._uU(3,"DirectorsView"),e.qZA(),e.qZA(),e.TgZ(4,"form",1),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(5,"mat-select",2),e.NdJ("valueChange",function(s){return o.selectedOption=s})("selectionChange",function(){return o.onSelectionMessage()}),e.YNc(6,C,2,2,"mat-option",3),e.qZA(),e.YNc(7,N,5,1,"mat-form-field",4),e.YNc(8,O,5,1,"mat-form-field",4),e.YNc(9,A,5,1,"mat-form-field",4),e.TgZ(10,"mat-form-field"),e.TgZ(11,"mat-label"),e._uU(12,"E-Mail Address"),e.qZA(),e._UZ(13,"input",5),e.YNc(14,S,2,0,"mat-error",4),e.qZA(),e.TgZ(15,"mat-form-field"),e.TgZ(16,"mat-label"),e._uU(17,"Password"),e.qZA(),e._UZ(18,"input",6),e.YNc(19,b,2,0,"mat-error",4),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"button",8),e._uU(22," Sign up "),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,U,2,1,"mat-error",4),e.TgZ(24,"p"),e._uU(25,"Already have an account? "),e.TgZ(26,"a",9),e._uU(27,"Sign in now!"),e.qZA(),e.qZA()),2&n){let m,s;e.xp6(4),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("value",o.selectedOption),e.xp6(1),e.Q6J("ngForOf",o.selectOptions),e.xp6(1),e.Q6J("ngIf","Personal"===o.selectedOption),e.xp6(1),e.Q6J("ngIf","Personal"===o.selectedOption),e.xp6(1),e.Q6J("ngIf","Company"===o.selectedOption),e.xp6(5),e.Q6J("ngIf",null==(m=o.formGroup.get("email"))?null:m.hasError("required")),e.xp6(5),e.Q6J("ngIf",null==(s=o.formGroup.get("password"))?null:s.hasError("required")),e.xp6(2),e.Q6J("disabled",!o.formGroup.valid),e.xp6(2),e.Q6J("ngIf",o.responseMessage)}},directives:[r._Y,r.JL,r.sg,d.gD,u.sg,v.ey,u.O5,p.KE,p.hX,h.Nt,r.Fj,r.JJ,r.u,p.TO,_.lW,l.yS],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-start;flex-direction:column;padding-top:10vh}header[_ngcontent-%COMP%]{width:80%;margin-bottom:7vh;display:flex;justify-content:center;align-items:center;flex-direction:column;-webkit-user-select:none;user-select:none}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:2em}form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:20%}form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:underline}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,l.Bz.forChild(I),p.lN,r.UX,_.ot,h.c,d.LD]]}),t})()}}]);