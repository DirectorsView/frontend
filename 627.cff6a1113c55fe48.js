"use strict";(self.webpackChunkdirectorsview=self.webpackChunkdirectorsview||[]).push([[627],{1627:(xt,O,c)=>{c.r(O),c.d(O,{VacanciesModule:()=>_t});var l=c(9808),t=c(5e3),E=c(1135),z=c(6901),b=c(7556);let C=(()=>{class n{constructor(e,a){this.backend=e,this.auth=a,this.vacancySubject=new E.X([])}fetchVacancies(){return this.backend.get("/vacancy").then(e=>{e=e.map(a=>Object.assign(Object.assign({},a),{deadline:new Date(a.deadline)})),this.vacancySubject.next(e)}),this.vacancySubject}getVacancies(){return this.vacancySubject}getVacancyById(e){return this.vacancySubject.value.find(a=>a.id===e)||null}apply(e){return new Promise((a,i)=>{this.auth.person?this.backend.post(`/vacancy/${e}/applicants?personId=${this.auth.person.id}`,null).then(s=>a(s)):i("No person logged in")})}getApplicants(e){return this.backend.get(`/vacancy/${e}/applicants`)}acceptApplicant(e,a){return this.backend.post(`/project/${e}/members?personId=${a}`,null)}deleteVacancy(e){return this.backend.delete(`/vacancy/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(z.v),t.LFG(b.e))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=c(1787),_=c(3874);function N(n,o){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-icon",3),t._uU(5,"business"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"mat-icon",3),t._uU(10,"date_range"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.Q6J("routerLink",e.id.toString()),t.xp6(2),t.Oqu(e.title),t.xp6(5),t.Oqu(e.company.name),t.xp6(5),t.Oqu(t.xi3(13,4,e.deadline,"dd.MM.yyyy"))}}let Y=(()=>{class n{constructor(e,a){this.vacancy=e,this.auth=a,this.vacancies=null}ngOnInit(){this.vacancy.fetchVacancies().subscribe(e=>{this.vacancies=e.filter(a=>a.opened),this.auth.company&&(this.vacancies=this.vacancies.filter(a=>a.company.id===this.auth.company.id))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C),t.Y36(b.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-vacancies"]],decls:2,vars:1,consts:[["id","content-wrapper"],["class","vacancy",3,"routerLink",4,"ngFor","ngForOf"],[1,"vacancy",3,"routerLink"],["color","accent"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,N,14,7,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",a.vacancies))},directives:[l.sg,f.rH,_.Hw],pipes:[l.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;justify-content:center;align-content:flex-start;flex-wrap:wrap;padding:1rem 0;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius);overflow-y:scroll}.vacancy[_ngcontent-%COMP%]{width:30%;margin:1.4%;padding:2%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;box-shadow:var(--box-shadow);box-sizing:border-box;cursor:pointer;border-radius:var(--border-radius);border:2px solid transparent;transition:.2s ease-in-out border-color}.vacancy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 0 .5rem;color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem;color:var(--accent-color)}"]}),n})();var y=c(9776),m=c(7429),k=c(508),g=c(7423),u=c(7579),w=c(5698),S=c(2722),p=c(1777),T=c(925),B=c(3191),V=c(9841),G=c(7272),H=c(8306),Q=c(5684),J=c(8372),Z=c(4004),$=c(8675);const P=new Set;let v,W=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):K}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function X(n){if(!P.has(n))try{v||(v=document.createElement("style"),v.setAttribute("type","text/css"),document.head.appendChild(v)),v.sheet&&(v.sheet.insertRule(`@media ${n} {body{ }}`,0),P.add(n))}catch(o){console.error(o)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T.t4))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let D=(()=>{class n{constructor(e,a){this._mediaMatcher=e,this._zone=a,this._queries=new Map,this._destroySubject=new u.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return L((0,B.Eq)(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){const i=L((0,B.Eq)(e)).map(r=>this._registerQuery(r).observable);let s=(0,V.a)(i);return s=(0,G.z)(s.pipe((0,w.q)(1)),s.pipe((0,Q.T)(1),(0,J.b)(0))),s.pipe((0,Z.U)(r=>{const d={matches:!1,breakpoints:{}};return r.forEach(({matches:h,query:A})=>{d.matches=d.matches||h,d.breakpoints[A]=h}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const a=this._mediaMatcher.matchMedia(e),s={observable:new H.y(r=>{const d=h=>this._zone.run(()=>r.next(h));return a.addListener(d),()=>{a.removeListener(d)}}).pipe((0,$.O)(a),(0,Z.U)(({matches:r})=>({query:e,matches:r})),(0,S.R)(this._destroySubject)),mql:a};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L(n){return n.map(o=>o.split(",")).reduce((o,e)=>o.concat(e)).map(o=>o.trim())}var F=c(5664);function et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().action()}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.data.action)}}function nt(n,o){}const R=new t.OlP("MatSnackBarData");class x{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const at=Math.pow(2,31)-1;class M{constructor(o,e){this._overlayRef=e,this._afterDismissed=new u.x,this._afterOpened=new u.x,this._onAction=new u.x,this._dismissedByAction=!1,this.containerInstance=o,this.onAction().subscribe(()=>this.dismiss()),o._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(o){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(o,at))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let it=(()=>{class n{constructor(e,a){this.snackBarRef=e,this.data=a}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M),t.Y36(R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.YNc(2,et,3,1,"div",1)),2&e&&(t.xp6(1),t.Oqu(a.data.message),t.xp6(1),t.Q6J("ngIf",a.hasAction))},directives:[g.lW,l.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const ot={snackBarState:(0,p.X$)("state",[(0,p.SB)("void, hidden",(0,p.oB)({transform:"scale(0.8)",opacity:0})),(0,p.SB)("visible",(0,p.oB)({transform:"scale(1)",opacity:1})),(0,p.eR)("* => visible",(0,p.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,p.eR)("* => void, * => hidden",(0,p.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,p.oB)({opacity:0})))])};let st=(()=>{class n extends m.en{constructor(e,a,i,s,r){super(),this._ngZone=e,this._elementRef=a,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=r,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new u.x,this._onExit=new u.x,this._onEnter=new u.x,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:a,toState:i}=e;if(("void"===i&&"void"!==a||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,w.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,a=this.snackBarConfig.panelClass;a&&(Array.isArray(a)?a.forEach(i=>e.classList.add(i)):e.classList.add(a)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),a=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&a){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),a.appendChild(e),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(T.t4),t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,a){if(1&e&&t.Gf(m.Pl,7),2&e){let i;t.iGM(i=t.CRH())&&(a._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,a){1&e&&t.WFA("@state.done",function(s){return a.onAnimationEnd(s)}),2&e&&t.d8E("@state",a._animationState)},features:[t.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,nt,0,0,"ng-template",1),t.qZA(),t._UZ(2,"div")),2&e&&(t.xp6(2),t.uIk("aria-live",a._live)("role",a._role))},directives:[m.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[ot.snackBarState]}}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.U8,m.eL,l.ez,g.ot,k.BQ],k.BQ]}),n})();const j=new t.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ct(){return new x}});let rt=(()=>{class n{constructor(e,a,i,s,r,d){this._overlay=e,this._live=a,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=r,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,a){return this._attach(e,a)}openFromTemplate(e,a){return this._attach(e,a)}open(e,a="",i){const s=Object.assign(Object.assign({},this._defaultConfig),i);return s.data={message:e,action:a},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,a){const s=t.zs3.create({parent:a&&a.viewContainerRef&&a.viewContainerRef.injector||this._injector,providers:[{provide:x,useValue:a}]}),r=new m.C5(this.snackBarContainerComponent,a.viewContainerRef,s),d=e.attach(r);return d.instance.snackBarConfig=a,d.instance}_attach(e,a){const i=Object.assign(Object.assign(Object.assign({},new x),this._defaultConfig),a),s=this._createOverlay(i),r=this._attachSnackBarContainer(s,i),d=new M(r,s);if(e instanceof t.Rgc){const h=new m.UE(e,null,{$implicit:i.data,snackBarRef:d});d.instance=r.attachTemplatePortal(h)}else{const h=this._createInjector(i,d),A=new m.C5(e,void 0,h),yt=r.attachComponentPortal(A);d.instance=yt.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,S.R)(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),i.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(d,i),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,a){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),a.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),a.duration&&a.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(a.duration))}_createOverlay(e){const a=new y.X_;a.direction=e.direction;let i=this._overlay.position().global();const s="rtl"===e.direction,r="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!r&&"center"!==e.horizontalPosition;return r?i.left("0"):d?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),a.positionStrategy=i,this._overlay.create(a)}_createInjector(e,a){return t.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:M,useValue:a},{provide:R,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.aV),t.LFG(F.Kd),t.LFG(t.zs3),t.LFG(D),t.LFG(n,12),t.LFG(j))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),q=(()=>{class n extends rt{constructor(e,a,i,s,r,d){super(e,a,i,s,r,d),this.simpleSnackBarComponent=it,this.snackBarContainerComponent=st,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.aV),t.LFG(F.Kd),t.LFG(t.zs3),t.LFG(D),t.LFG(n,12),t.LFG(j))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:U}),n})();function dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-icon",3),t._uU(5,"business"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"mat-icon",3),t._uU(10,"date_range"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.TgZ(16,"button",4),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.apply(i.vacancy.id)}),t._uU(17,"Apply"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.vacancy.title),t.xp6(5),t.Oqu(e.vacancy.company.name),t.xp6(5),t.Oqu(t.xi3(13,4,e.vacancy.deadline,"dd.MM.yyyy")),t.xp6(3),t.Oqu(e.vacancy.description)}}let lt=(()=>{class n{constructor(e,a,i,s){this.route=e,this.router=a,this.snackBar=i,this.vacancyService=s,this.vacancy=null}ngOnInit(){this.vacancyService.fetchVacancies().subscribe(()=>{this.vacancy=this.vacancyService.getVacancyById(Number(this.route.snapshot.params.id))})}apply(e){this.vacancyService.apply(e).then(()=>{this.snackBar.open("You have successfully applied for this vacancy","OK",{duration:4e3})}),this.router.navigateByUrl("/vacancies")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(q),t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-user"]],decls:2,vars:1,consts:[["id","content-wrapper"],["class","vacancy",4,"ngIf"],[1,"vacancy"],["color","accent"],["color","primary","mat-raised-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,dt,18,7,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",a.vacancy))},directives:[l.O5,_.Hw,g.lW],pipes:[l.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;justify-content:center;align-content:flex-start;flex-wrap:wrap;padding:1rem 0;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius);overflow-y:scroll}.vacancy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem;color:var(--accent-color)}"]}),n})();var I=c(7322);function pt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"No applicants found for this vacancy"),t.qZA())}function ht(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"mat-icon",5),t._uU(2,"account_circle"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).accept(s)}),t.TgZ(7,"mat-icon",5),t._uU(8,"check"),t.qZA(),t.qZA(),t.TgZ(9,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).decline(s)}),t.TgZ(10,"mat-icon",14),t._uU(11,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(4),t.AsE("",e.firstName," ",e.lastName,"")}}function mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"button",4),t.TgZ(6,"mat-icon",5),t._uU(7,"edit"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.TgZ(9,"mat-icon",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.delete(i.vacancy)}),t._uU(10,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div"),t.TgZ(13,"mat-icon",8),t._uU(14,"business"),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div"),t.TgZ(18,"mat-icon",8),t._uU(19,"date_range"),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"div",9),t.TgZ(26,"h3"),t._uU(27,"Applicants"),t.qZA(),t.YNc(28,pt,2,0,"mat-error",10),t.YNc(29,ht,12,2,"div",11),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.vacancy.title),t.xp6(13),t.Oqu(e.vacancy.company.name),t.xp6(5),t.Oqu(t.xi3(22,6,e.vacancy.deadline,"dd.MM.yyyy")),t.xp6(3),t.Oqu(e.vacancy.description),t.xp6(4),t.Q6J("ngIf",!e.applicants||0===e.applicants.length),t.xp6(1),t.Q6J("ngForOf",e.applicants)}}let ut=(()=>{class n{constructor(e,a,i,s){this.route=e,this.router=a,this.snackBar=i,this.vacancyService=s,this.vacancy=null,this.applicants=null}ngOnInit(){const e=Number(this.route.snapshot.params.id);this.vacancyService.fetchVacancies().subscribe(()=>{this.vacancy=this.vacancyService.getVacancyById(e)}),this.vacancyService.getApplicants(e).then(a=>this.applicants=a).catch()}decline(e){this.applicants=this.applicants.filter(a=>a.id!==e.id)}accept(e){this.vacancyService.acceptApplicant(this.vacancy.project.id,e.id).then(()=>{this.applicants=this.applicants.filter(a=>a.id!==e.id),this.snackBar.open(`Applicant "${e.firstName} ${e.lastName}" accepted and assigned to the project.`,"OK",{duration:4e3})}).catch(()=>{this.snackBar.open("An unexpected error occurred.","OK",{duration:3e3})})}delete(e){this.vacancyService.deleteVacancy(e.id).then(()=>{this.router.navigate(["/vacancies"]),this.snackBar.open(`Vacancy "${e.title}" deleted.`,"OK",{duration:4e3})}).catch(()=>{this.snackBar.open("An unexpected error occurred.","OK",{duration:3e3})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(q),t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-company"]],decls:1,vars:1,consts:[["class","content-wrapper",4,"ngIf"],[1,"content-wrapper"],[1,"headline-wrapper"],[1,"icon-wrapper"],["mat-icon-button",""],["color","primary"],["color","primary",3,"click"],[1,"column-1"],["color","accent"],[1,"column-2"],[4,"ngIf"],["class","applicant",4,"ngFor","ngForOf"],[1,"applicant"],["mat-icon-button","",3,"click"],["color","warn"]],template:function(e,a){1&e&&t.YNc(0,mt,30,9,"div",0),2&e&&t.Q6J("ngIf",a.vacancy)},directives:[l.O5,g.lW,_.Hw,I.TO,l.sg],pipes:[l.uU],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;flex-direction:column;padding:1rem 2rem;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius)}.headline-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.headline-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.headline-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);margin-top:0}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;align-items:flex-start;padding:1rem;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius)}.column-1[_ngcontent-%COMP%]{width:70%}.column-2[_ngcontent-%COMP%]{width:30%}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 0;box-sizing:border-box}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]:nth-child(2n){background:var(--primary-color);background:rgba(17,157,164,.05)}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 .8rem}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:75%}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center}.column-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .column-2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.column-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .column-2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem}"]}),n})();function ft(n,o){1&n&&t._UZ(0,"app-detailed-user")}function vt(n,o){1&n&&t._UZ(0,"app-detailed-company")}const gt=[{path:"",component:Y},{path:":id",component:(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}isPerson(){return!!this.auth.person}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,a){1&e&&(t.YNc(0,ft,1,0,"app-detailed-user",0),t.YNc(1,vt,1,0,"app-detailed-company",0)),2&e&&(t.Q6J("ngIf",a.isPerson()),t.xp6(1),t.Q6J("ngIf",!a.isPerson()))},directives:[l.O5,lt,ut],styles:[""]}),n})()}];let _t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,f.Bz.forChild(gt),_.Ps,U,g.ot,I.lN]]}),n})()}}]);