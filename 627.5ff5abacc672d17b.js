"use strict";(self.webpackChunkdirectorsview=self.webpackChunkdirectorsview||[]).push([[627],{1627:(yt,A,r)=>{r.r(A),r.d(A,{VacanciesModule:()=>_t});var l=r(9808),t=r(5e3),E=r(1135),q=r(6901),O=r(7556);let b=(()=>{class n{constructor(e,a){this.backend=e,this.auth=a,this.vacancySubject=new E.X([])}fetchVacancies(){return this.backend.get("/vacancy").then(e=>{e=e.map(a=>Object.assign(Object.assign({},a),{deadline:new Date(a.deadline)})),this.vacancySubject.next(e)}),this.vacancySubject}getVacancies(){return this.vacancySubject}getVacancyById(e){return this.vacancySubject.value.find(a=>a.id===e)||null}apply(e){return new Promise((a,o)=>{this.auth.person?this.backend.post(`/vacancy/${e}/applicants?personId=${this.auth.person.id}`,null).then(s=>a(s)):o("No person logged in")})}getApplicants(e){return this.backend.get(`/vacancy/${e}/applicants`)}acceptApplicant(e,a){return this.backend.post(`/project/${e}/members?personId=${a}`,null)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.v),t.LFG(O.e))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=r(1787),g=r(3874);function z(n,i){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-icon",3),t._uU(5,"business"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"mat-icon",3),t._uU(10,"date_range"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.Q6J("routerLink",e.id.toString()),t.xp6(2),t.Oqu(e.title),t.xp6(5),t.Oqu(e.company.name),t.xp6(5),t.Oqu(t.xi3(13,4,e.deadline,"dd.MM.yyyy"))}}let Y=(()=>{class n{constructor(e){this.vacancy=e,this.vacancies=null}ngOnInit(){this.vacancy.fetchVacancies().subscribe(e=>this.vacancies=e.filter(a=>a.opened))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-vacancies"]],decls:2,vars:1,consts:[["id","content-wrapper"],["class","vacancy",3,"routerLink",4,"ngFor","ngForOf"],[1,"vacancy",3,"routerLink"],["color","accent"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,z,14,7,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",a.vacancies))},directives:[l.sg,f.rH,g.Hw],pipes:[l.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;justify-content:center;align-content:flex-start;flex-wrap:wrap;padding:1rem 0;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius);overflow-y:scroll}.vacancy[_ngcontent-%COMP%]{width:30%;margin:1.4%;padding:2%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;box-shadow:var(--box-shadow);box-sizing:border-box;cursor:pointer;border-radius:var(--border-radius);border:2px solid transparent;transition:.2s ease-in-out border-color}.vacancy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 0 .5rem;color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem;color:var(--accent-color)}"]}),n})();var y=r(9776),m=r(7429),k=r(508),_=r(7423),u=r(7579),S=r(5698),w=r(2722),p=r(1777),B=r(925),T=r(3191),N=r(9841),V=r(7272),G=r(8306),Q=r(5684),H=r(8372),Z=r(4004),J=r(8675);const P=new Set;let v,W=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):X}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function $(n){if(!P.has(n))try{v||(v=document.createElement("style"),v.setAttribute("type","text/css"),document.head.appendChild(v)),v.sheet&&(v.sheet.insertRule(`@media ${n} {body{ }}`,0),P.add(n))}catch(i){console.error(i)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(B.t4))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let D=(()=>{class n{constructor(e,a){this._mediaMatcher=e,this._zone=a,this._queries=new Map,this._destroySubject=new u.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return L((0,T.Eq)(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){const o=L((0,T.Eq)(e)).map(c=>this._registerQuery(c).observable);let s=(0,N.a)(o);return s=(0,V.z)(s.pipe((0,S.q)(1)),s.pipe((0,Q.T)(1),(0,H.b)(0))),s.pipe((0,Z.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:h,query:M})=>{d.matches=d.matches||h,d.breakpoints[M]=h}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const a=this._mediaMatcher.matchMedia(e),s={observable:new G.y(c=>{const d=h=>this._zone.run(()=>c.next(h));return a.addListener(d),()=>{a.removeListener(d)}}).pipe((0,J.O)(a),(0,Z.U)(({matches:c})=>({query:e,matches:c})),(0,w.R)(this._destroySubject)),mql:a};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L(n){return n.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var R=r(5664);function tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().action()}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.data.action)}}function et(n,i){}const F=new t.OlP("MatSnackBarData");class x{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const nt=Math.pow(2,31)-1;class C{constructor(i,e){this._overlayRef=e,this._afterDismissed=new u.x,this._afterOpened=new u.x,this._onAction=new u.x,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,nt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let at=(()=>{class n{constructor(e,a){this.snackBarRef=e,this.data=a}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C),t.Y36(F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.YNc(2,tt,3,1,"div",1)),2&e&&(t.xp6(1),t.Oqu(a.data.message),t.xp6(1),t.Q6J("ngIf",a.hasAction))},directives:[_.lW,l.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const it={snackBarState:(0,p.X$)("state",[(0,p.SB)("void, hidden",(0,p.oB)({transform:"scale(0.8)",opacity:0})),(0,p.SB)("visible",(0,p.oB)({transform:"scale(1)",opacity:1})),(0,p.eR)("* => visible",(0,p.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,p.eR)("* => void, * => hidden",(0,p.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,p.oB)({opacity:0})))])};let ot=(()=>{class n extends m.en{constructor(e,a,o,s,c){super(),this._ngZone=e,this._elementRef=a,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new u.x,this._onExit=new u.x,this._onEnter=new u.x,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:a,toState:o}=e;if(("void"===o&&"void"!==a||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,S.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,a=this.snackBarConfig.panelClass;a&&(Array.isArray(a)?a.forEach(o=>e.classList.add(o)):e.classList.add(a)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),a=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&a){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),a.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(B.t4),t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,a){if(1&e&&t.Gf(m.Pl,7),2&e){let o;t.iGM(o=t.CRH())&&(a._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,a){1&e&&t.WFA("@state.done",function(s){return a.onAnimationEnd(s)}),2&e&&t.d8E("@state",a._animationState)},features:[t.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,et,0,0,"ng-template",1),t.qZA(),t._UZ(2,"div")),2&e&&(t.xp6(2),t.uIk("aria-live",a._live)("role",a._role))},directives:[m.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[it.snackBarState]}}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.U8,m.eL,l.ez,_.ot,k.BQ],k.BQ]}),n})();const I=new t.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function st(){return new x}});let ct=(()=>{class n{constructor(e,a,o,s,c,d){this._overlay=e,this._live=a,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,a){return this._attach(e,a)}openFromTemplate(e,a){return this._attach(e,a)}open(e,a="",o){const s=Object.assign(Object.assign({},this._defaultConfig),o);return s.data={message:e,action:a},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,a){const s=t.zs3.create({parent:a&&a.viewContainerRef&&a.viewContainerRef.injector||this._injector,providers:[{provide:x,useValue:a}]}),c=new m.C5(this.snackBarContainerComponent,a.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=a,d.instance}_attach(e,a){const o=Object.assign(Object.assign(Object.assign({},new x),this._defaultConfig),a),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),d=new C(c,s);if(e instanceof t.Rgc){const h=new m.UE(e,null,{$implicit:o.data,snackBarRef:d});d.instance=c.attachTemplatePortal(h)}else{const h=this._createInjector(o,d),M=new m.C5(e,void 0,h),gt=c.attachComponentPortal(M);d.instance=gt.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,w.R)(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(d,o),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,a){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),a.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),a.duration&&a.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(a.duration))}_createOverlay(e){const a=new y.X_;a.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?o.left("0"):d?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),a.positionStrategy=o,this._overlay.create(a)}_createInjector(e,a){return t.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:C,useValue:a},{provide:F,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.aV),t.LFG(R.Kd),t.LFG(t.zs3),t.LFG(D),t.LFG(n,12),t.LFG(I))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),U=(()=>{class n extends ct{constructor(e,a,o,s,c,d){super(e,a,o,s,c,d),this.simpleSnackBarComponent=at,this.snackBarContainerComponent=ot,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.aV),t.LFG(R.Kd),t.LFG(t.zs3),t.LFG(D),t.LFG(n,12),t.LFG(I))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:j}),n})();function rt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-icon",3),t._uU(5,"business"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"mat-icon",3),t._uU(10,"date_range"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.TgZ(16,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.apply(o.vacancy.id)}),t._uU(17,"Apply"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.vacancy.title),t.xp6(5),t.Oqu(e.vacancy.company.name),t.xp6(5),t.Oqu(t.xi3(13,4,e.vacancy.deadline,"dd.MM.yyyy")),t.xp6(3),t.Oqu(e.vacancy.description)}}let dt=(()=>{class n{constructor(e,a,o,s){this.route=e,this.router=a,this.snackBar=o,this.vacancyService=s,this.vacancy=null}ngOnInit(){this.vacancyService.fetchVacancies().subscribe(()=>{this.vacancy=this.vacancyService.getVacancyById(Number(this.route.snapshot.params.id))})}apply(e){this.vacancyService.apply(e).then(()=>{this.snackBar.open("You have successfully applied for this vacancy","OK",{duration:4e3})}),this.router.navigateByUrl("/vacancies")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(U),t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-user"]],decls:2,vars:1,consts:[["id","content-wrapper"],["class","vacancy",4,"ngIf"],[1,"vacancy"],["color","accent"],["color","primary","mat-raised-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,rt,18,7,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",a.vacancy))},directives:[l.O5,g.Hw,_.lW],pipes:[l.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;justify-content:center;align-content:flex-start;flex-wrap:wrap;padding:1rem 0;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius);overflow-y:scroll}.vacancy[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color)}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.vacancy[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem;color:var(--accent-color)}"]}),n})();function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"mat-icon",8),t._uU(2,"account_circle"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).accept(s)}),t.TgZ(7,"mat-icon",8),t._uU(8,"check"),t.qZA(),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).decline(s)}),t.TgZ(10,"mat-icon",10),t._uU(11,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(4),t.AsE("",e.firstName," ",e.lastName,"")}}function pt(n,i){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"h3"),t._uU(2,"Applicants"),t.qZA(),t.YNc(3,lt,12,2,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.applicants)}}function ht(n,i){if(1&n&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"mat-icon",3),t._uU(6,"business"),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div"),t.TgZ(10,"mat-icon",3),t._uU(11,"date_range"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA(),t.qZA(),t.YNc(17,pt,4,1,"div",4),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.vacancy.title),t.xp6(5),t.Oqu(e.vacancy.company.name),t.xp6(5),t.Oqu(t.xi3(14,5,e.vacancy.deadline,"dd.MM.yyyy")),t.xp6(3),t.Oqu(e.vacancy.description),t.xp6(1),t.Q6J("ngIf",e.applicants)}}let mt=(()=>{class n{constructor(e,a,o,s){this.route=e,this.router=a,this.snackBar=o,this.vacancyService=s,this.vacancy=null,this.applicants=null}ngOnInit(){const e=Number(this.route.snapshot.params.id);this.vacancyService.fetchVacancies().subscribe(()=>{this.vacancy=this.vacancyService.getVacancyById(e)}),this.vacancyService.getApplicants(e).then(a=>this.applicants=a).catch()}decline(e){this.applicants=this.applicants.filter(a=>a.id!==e.id)}accept(e){this.vacancyService.acceptApplicant(this.vacancy.project.id,e.id).then(()=>{this.applicants=this.applicants.filter(a=>a.id!==e.id),this.snackBar.open(`Applicant "${e.firstName} ${e.lastName}" accepted and assigned to the project.`,"OK",{duration:4e3})}).catch()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(U),t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-company"]],decls:1,vars:1,consts:[["id","content-wrapper",4,"ngIf"],["id","content-wrapper"],[1,"column-1"],["color","accent"],["class","column-2",4,"ngIf"],[1,"column-2"],["class","applicant",4,"ngFor","ngForOf"],[1,"applicant"],["color","primary"],["mat-icon-button","",3,"click"],["color","warn"]],template:function(e,a){1&e&&t.YNc(0,ht,18,8,"div",0),2&e&&t.Q6J("ngIf",a.vacancy)},directives:[l.O5,g.Hw,l.sg,_.lW],pipes:[l.uU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;box-sizing:border-box}#content-wrapper[_ngcontent-%COMP%]{width:95%;height:95%;display:flex;align-items:flex-start;padding:1rem;box-sizing:border-box;box-shadow:var(--box-shadow);border-radius:var(--border-radius)}.column-1[_ngcontent-%COMP%]{width:70%}.column-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color)}.column-2[_ngcontent-%COMP%]{width:30%}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 0;box-sizing:border-box}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]:nth-child(2n){background:var(--primary-color);background:rgba(17,157,164,.05)}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 .8rem}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:75%}.column-2[_ngcontent-%COMP%]   .applicant[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center}.column-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .column-2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.column-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .column-2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.2rem}"]}),n})();function ut(n,i){1&n&&t._UZ(0,"app-detailed-user")}function ft(n,i){1&n&&t._UZ(0,"app-detailed-company")}const vt=[{path:"",component:Y},{path:":id",component:(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}isPerson(){return!!this.auth.person}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,a){1&e&&(t.YNc(0,ut,1,0,"app-detailed-user",0),t.YNc(1,ft,1,0,"app-detailed-company",0)),2&e&&(t.Q6J("ngIf",a.isPerson()),t.xp6(1),t.Q6J("ngIf",!a.isPerson()))},directives:[l.O5,dt,mt],styles:[""]}),n})()}];let _t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,f.Bz.forChild(vt),g.Ps,j,_.ot]]}),n})()}}]);